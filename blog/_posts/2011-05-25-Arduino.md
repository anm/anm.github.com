---
layout: post
title: Arduino
background-colour: white
---

I have been meaning to do several microcontroller based projects for some time
now. Ideally I wanted to do it without spending any money so I decided to make
myself a PIC programmer with some samples from Microchip. This would also make
the process more interesting.

The plan was to make a USB Pic Programmer <link> and bootstrap it with a
serial port based programmer using an old computer.  I bought all the parts,
including copper clad board and ferric chloride but never quite got round to
doing it. This was in part because I was not very keen to have to work with
ferric chloride and I didn't want to disolve the sink.

Meanwhile, I had been hearing about the Arduino more and more. Initially I
ignored it as something designed for artists and people who did not know what
they were doing. I had spent some time at university learning about and using
real microcontrollers with none of this boot loader nonsense so I did not
think I needed things to make it easier. Then I started to wonder if not
needing it to be easier meant that being easier was a bad thing. Then I
decided I had wasted enough time and just wanted to get something done, so I
decided to buy an Arduino.

I actually chose the seeedunio, an Arduino clone. The design is open so this
is allowed and in fact there are some improvements made in the
seeeduino. Primarily I chose it though because it was the cheapest. I still
don't like the idea of paying decapounds for a single basic microcontroller
and some soldering. I also ordered an ethernet shield, which is what an
expansion card is called in the Arduino world. These arrived yesterday.

It took me longer than I would have liked to get started, the blinking LED
hello world of microcontrollers, because there were no instructions about the
correct settings. After some googling and trial and error I determined that I
had to set the reset switch on the board to auto and, in the Arduino IDE, set
the board type to <type>Deumilanove or Nano w/ ATmega328"</type>.  After that
I very quickly had it beaconing my callsign on the board mounted LED attached
to pin 13. So far quite reasonble.

Then I decided to plug in the ethernet board and run the example programs.  I
had to stick all the source files in the same directory and change the ip
address and then I was pinging the board. It took only a few minutes. This I
thought was pretty ridiculous. Then I used the web server program. It
worked. I couldn't really belive this - this did not seem like electronics at
all. I would expect this to have taken weeks of debugging, loose wires, errors
in PCB design, software bugs and frustration but here it was working in a few
minutes with no test gear in sight. I have certainly confirmed my get things
done faster conjecture.

It was not quite as good though when I wanted to connect stuff up to it. The
board did not come with a data sheet and I could not find much at all online.
In the end I went to Atmel's web site and downloaded the datasheet for the
ATmega328P on my board. Below are some useful figures from it.

Seeeduino V2.21
ARD128D2P

Absolute Maximums

Operating Temperature.................................. -55째C to +125째C Storage Temperature ..................................... -65째C to +150째C
<table>
<td>Voltage on any Pin except RESET with respect to Ground</td> <td>-0.5V to VCC+0.5V</td>
<td>Maximum Operating Voltage</td><td>6.0V</td>
<td>DC Current per I/O Pin</td><td>40.0mA
<td>DC Current VCC and GND Pins</td><td>200.0mA</td>
</table>

5V in:
Output Low Voltage(4) except RESET pin Max 0.9V


Output High Voltage(3) except Reset pin
IOH =-20mA,VCC =5V IOH =-10mA,VCC =3V
Min 4.2


It's C but with some magic, see: http://arduino.cc/en/Hacking/BuildProcess


Ethernet board
ENC28J60 based.
http://www.ekitszone.com/Products/4-enc28j60-ethernet-shield-for-arduino.aspx
